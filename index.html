<!DOCTYPE html>
<html>
<head>
  <title>.bitter</title>
  <style>* {margin:0; padding:0}</style>
</head>
<body>
<div id="result"></div>
<script>
async function fetchData() {
    const url1 = "https://unisat.io/brc20-api-v2/inscriptions/category/text/search/v2?name=p%22%3A%22.bitter&limit=100&start=0";
    const url2 = "https://unisat.io/brc20-api-v2/inscriptions/category/text/search/v2?name=p%22%3A%20%22.bitter&limit=100&start=0";

    try {
        const response1 = await fetch(url1);
        const response2 = await fetch(url2);
        const data1 = await response1.json();
        const data2 = await response2.json();

        let combinedData = [...data1.data.detail, ...data2.data.detail];
        combinedData.sort((a, b) => a.timestamp - b.timestamp);

        combinedData = combinedData.map(item => {
            const inscriptionNameJson = JSON.parse(item.inscriptionName);
            const { username, ordinal } = inscriptionNameJson;
            return {
                username,
                ordinal,
                timestamp: item.timestamp
            };
        });

        return combinedData;
    } catch (error) {
        console.error('Error:', error);
    }
}

fetchData().then(data => {
    const resultDiv = document.getElementById('result');
    data.forEach(item => {
        const itemDiv = document.createElement('div');
        itemDiv.textContent = `Username: ${item.username}, Ordinal: ${item.ordinal}, Timestamp: ${item.timestamp}`;
        resultDiv.appendChild(itemDiv);
    });
});
</script>
</body>
</html>
